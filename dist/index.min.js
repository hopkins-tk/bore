!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.bore=t.bore||{})}(this,function(t){function n(t,n){return 0===t.indexOf(n)}function e(t,e){return n(t,"aria-")||n(t,"data-")}function o(t){return t.prototype instanceof w?new t:t()}function r(t,n){var r="function"==typeof t?o(t):document.createElement(t);Object.keys(n||[]).forEach(function(t){return e(t,n[t])?r.setAttribute(t,n[t]):r[t]=n[t]});for(var i=arguments.length,u=Array(i>2?i-2:0),c=2;c<i;c++)u[c-2]=arguments[c];return u.forEach(function(t){return r.appendChild(t instanceof h?t:document.createTextNode(t))}),r}function i(){m&&"function"==typeof m.flush&&m.flush()}function u(t,n){return(t.matches||t.msMatchesSelector).call(t,n)}function c(t){return new x(t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=(function(){function t(t){this.value=t}function n(n){function e(t,n){return new Promise(function(e,r){var c={key:t,arg:n,resolve:e,reject:r,next:null};u?u=u.next=c:(i=u=c,o(t,n))})}function o(e,i){try{var u=n[e](i),c=u.value;c instanceof t?Promise.resolve(c.value).then(function(t){o("next",t)},function(t){o("throw",t)}):r(u.done?"return":"normal",u.value)}catch(t){r("throw",t)}}function r(t,n){switch(t){case"return":i.resolve({value:n,done:!0});break;case"throw":i.reject(n);break;default:i.resolve({value:n,done:!1})}i=i.next,i?o(i.key,i.arg):u=null}var i,u;this._invoke=e,"function"!=typeof n.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(t){return this._invoke("next",t)},n.prototype.throw=function(t){return this._invoke("throw",t)},n.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new n(t.apply(this,arguments))}},await:function(n){return new t(n)}}}(),function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}),s=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),l=window,d=l.DocumentFragment,h=l.Node,p=l.Promise,y=[].slice,v=window,m=v.customElements,w=v.HTMLElement,k=v.NodeFilter,b=document,E=b.body,T=w.prototype.attachShadow,g=require("skatejs-dom-diff").default.diff;m&&(m.enableFlush=!0);var S=document.createElement("div");document.body.appendChild(S),w.prototype.attachShadow=function(){return T.call(this,{mode:"open"})};var x=function(){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,t),this.opts=e;var o="string"==typeof n,r=!n.parentNode;if(E.contains(S)||E.appendChild(S),r){S.innerHTML="",o?(S.innerHTML=n,this.node=S.firstElementChild):(S.appendChild(n),this.node=n);var u=m.get(this.node.localName);u&&i()}else this.node=n}return s(t,[{key:"all",value:function(n){var e=this,o=this.shadowRoot,r=[];if(n.prototype instanceof w)this.walk(o,function(t){return t instanceof n},function(t){return r.push(t)});else if("function"==typeof n)this.walk(o,n,function(t){return r.push(t)});else if(n.nodeType===h.ELEMENT_NODE)this.walk(o,function(t){return 0===g({destination:n,source:t,root:!0}).length},function(t){return r.push(t)});else if("object"===("undefined"==typeof n?"undefined":a(n))){var i=function(){var t=Object.keys(n);return 0===t.length?{v:r}:void e.walk(o,function(e){return t.every(function(t){return e[t]===n[t]})},function(t){return r.push(t)})}();if("object"===("undefined"==typeof i?"undefined":a(i)))return i.v}else"string"==typeof n&&this.walk(o,function(t){return u(t,n)},function(t){return r.push(t)},{skip:!0});return r.map(function(n){return new t(n,e.opts)})}},{key:"has",value:function(t){return!!this.one(t)}},{key:"one",value:function(t){return this.all(t)[0]}},{key:"wait",value:function(t){return this.waitFor(function(t){return!!t.node.shadowRoot}).then(t)}},{key:"waitFor",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delay:1},o=e.delay;return new p(function(e,r){var i=function i(){var u=function(){try{return t(n)}catch(t){r(t)}}();u?e(n):setTimeout(i,o)};setTimeout(i,o)}).catch(function(t){throw t})}},{key:"walk",value:function(t,n,e){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{root:!1,skip:!1};if(t instanceof d)return void y.call(t.children).forEach(function(t){o.walk(t,n,e,{root:!0,skip:r.skip})});var i=function(t){return n(t)?k.FILTER_ACCEPT:r.skip?k.FILTER_SKIP:k.FILTER_REJECT};i.acceptNode=i;var u=document.createTreeWalker(t,k.SHOW_ELEMENT,i,!0);for(r.root&&n(t)&&e(t);u.nextNode();)e(u.currentNode)}},{key:"shadowRoot",get:function(){var t=this.node;return t.shadowRoot||t}}]),t}();t.h=r,t.mount=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.min.js.map
